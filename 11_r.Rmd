<style>@import url(style.css);</style>
<small>[Introduction to Data Analysis](index.html)</small>

# 1.1. Installing R

[R](http://www.r-project.org/) is a software that uses a specific language to manipulate statistical objects. Researchers and statisticians are [increasingly](http://r4stats.com/articles/popularity/) adopting R as their software of choice, and the R user base goes well beyond academia. Many [R User Groups](http://www.r-bloggers.com/RUG/) exist on a [worldwide scale](http://blog.revolutionanalytics.com/local-r-groups.html).

Some people *really* like R. This very enthusiastic user is [Anthony Damico](https://github.com/ajdamico), a [prolific](http://www.ajdamico.com/p/work.html) and [proficient](http://www.asdfree.com/) analyst of U.S. survey data working at the Kaiser Family Foundation. His video mentions other programming and statistical languages:

<iframe src="http://player.vimeo.com/video/52999628?badge=0" width="800" height="600" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>

The R language has its roots in the S language developed by AT&T, which also developed the C language. It is not the only language available for statistical analysis: there are [many others](http://brenocon.com/blog/2009/02/comparison-of-data-analysis-packages-r-matlab-scipy-excel-sas-spss-stata/), and you might also hear about SAS, SPSS or Stata, or even Matlab and Python.

R is as free as it is powerful, but it comes with [some drawbacks](http://badhessian.org/seven-reasons-to-use-r-for-social-network-analysis-and-three-reasons-against/). Its major disadvantage is that its learning curve is pretty steep. Do not worry: we will review as many examples as we need to make it work, and we will give you code to help creating your own.

## Installation

Now, download  and install the latest version of R. You will need admin privileges on your computer (i.e. the user login and password) to do so. R is free and available for all platforms.

The R development team maintains [a website](http://www.r-project.org/), but you will download R from a different source based in the United States. The download link depends on your operating system:

- __For Mac OS X__, [download from this link](http://cran.us.r-project.org/bin/macosx/), double-click it, say "OK" to all installation steps. You can also watch [this video tutorial](https://www.youtube.com/watch?v=Icawuhf0Yqo) by Roger Peng for help, or [this video tutorial](https://www.youtube.com/watch?v=WJDrYUqNrHg&list=PL8BE0E317807A9A21) by Gordon Davis, which also covers RStudio.
- __For Windows__, [download from this link](http://cran.us.r-project.org/bin/windows/base/), which also has a few help pages. [This video tutorial](https://www.youtube.com/watch?v=mfGFv-iB724) by Roger Peng and [this video tutorial](http://www.screenr.com/kzT8) by Anthony Damico can help with the installation. You ight also consider [a few custom options](https://www.youtube.com/watch?v=Lc2sgDTzrV8) when running R on Windows.

Do not panic if you do not manage to install R (or RStudio, the next software you will install) on your own. Just bring your laptop and we will guide you through it in class.

## Commands

Open R and locate the blinking cursor preceded by a `>` at the bottom of the Console window. This is where you will type commands and read their results. Type the following examples to print some text and numeric results:

```{r very-first-commands, results='hide'}
"hello world"
1 + 2
```

The Console window should now look something like this (with icons at the top in your case):

![R, very first commands](images/r-very-first-commands.png)

Now type each command below in this order; skip the comments that start with a `#` hash. When you finish typing a line, press `Enter` to execute, or 'run', its command. If you get an error message, press `UpArrow`, check your typing against the original, correct it and try again.

```{r hello-world}
# Create a text object, called 'x'.
x <- "Hello World!"
# Create a numeric object, called 'y'.
y <- (8^2)/5
# Combine both objects into a vector called 'z'.
z <- c(x, y)
# Print the vector object 'z' on screen.
print(z)
# More simply, just type its name and press Enter.
z
```

Let's go through all parts of this example. The basic operator `<-` assigns the value `"Hello World!"` to the object `x`. Text objects are called strings. The same operation is repeated with a numerical result to the `y` object.

We then bind these objects together with the `c()` command that creates a vector with the `x` and `y` values. The result is shown on screen with the `print()` command, but this command can also be omitted by just typing the name of the object.

Note, finally, that the lines of code starting with a hash (`#`) are comments. They do not have any result: if you pass them to R, they are simply ignored. Commenting your code is the most important good practice in programming.

## Scripts

Code is impossible to remember, and you want to save as well as share your work. Let's see how to run a R script. Press &#8984;-N (Mac) or `Ctrl-N` (Win) to open a blank R document, called a script, then [click this link](https://raw.github.com/briatte/ida/master/code/11_hello.R) to open a basic script example.

Select all code, copy it to the clipboard, and paste it into your blank R script window. Then select all lines in the script with &#8984;-A (Mac) or `Ctrl-A` (Win), and press &#8984;-Enter (Mac) or `Ctrl-Enter` (Win) to run it. The results will show in the "R Console" window.

You have just executed your first R script: have a look at the results. You will get used to all these operations pretty soon, as you get familiar with R syntax and learn to use R scripts, which are just plain text files that end with the `.r` extension.

## Packages
                                                                                                                                                                                                                                                                                                                                                                                                                 
Some particular commands need to be installed into R to work. This is usually done through the online [CRAN](http://cran.r-project.org/) central repository. This makes the software modular and has encouraged the development of thousands of R packages.

Let's take a look at which packages come with R by default, and where the packages are installed:

```{r default-packages}
# See the default packages.
getOption("defaultPackages")
# See where packages are stored.
.libPaths()
```

The commands above require that the `O` in `getOption` and `P` in `libPaths` are typed in uppercase. R is case sensitive: we will come back to that next week when we review command syntax in more detail. Also, do not forget the starting dot at the beginning of `.libPaths()`.

Let's install a few packages from a short list. Be careful with the capital letters in `RCurl`. To minimize hassle, your best option is simply to copy-paste the code into R (you can include the comments; they will be ignored at execution).

```{r install-packages}
# Create list of packages.
list <- c("foreach", "knitr", "devtools", "ggplot2", "httr", "RCurl", "reshape")
# Select those that are not installed.
list <- list[!list %in% installed.packages()[, 1]]
# Install packages. Select both lines to execute properly.
if(length(list))
  lapply(list, install.packages, repos = "http://cran.us.r-project.org")
```

Once installed, the additional packages can be loaded (initialized) with the `library` command. Each package brings its own functionalities. The `ggplot2` package is used for [plotting neat graphics](http://ggplot2.org/). The `httr` and `RCurl` packages are used to download data from online sources.

```{r load-packages, results='hide'}
# Load ggplot2 package.
library(ggplot2)
# Load RCurl package.
library(RCurl)
```

The "loading ..." message that you might get at that point is not an error but simply a sign that other packages are loaded at the same time. Do not trust the colors: sometimes, red ink does not stand for "problem" in R.

(Also, no result after a command generally means that it executed without any issue, and "Warning" messages can generally be ignored. You get used to it after some time.)

## Exit

You can quit R like any other application or by typing `q()`. You will be asked whether you want to save unsaved documents, and whether you want to save the R session, or workspace. You do not need to save anything for now.

R can do a lot of things, including [waiting for you to make coffee](http://vimeo.com/43305640). A big drawback of R, however, is its barebones interface. We will fix that by installing a software that "pilots" R through better menus and windows.

> __Next__: [Installing RStudio](12_rstudio.html).
